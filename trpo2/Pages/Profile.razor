@page "/Profile"
@using trpo2.Models
@inject TourAgencyContext dbContext
@inject Microsoft.JSInterop.IJSRuntime JSRuntime
@using Microsoft.EntityFrameworkCore;
@using trpo2.Data;
@inject UserService userService;

<Header />

<div class="profile-container">
    @if (CurrentUser != null)
    {
        <div class="profile-info">
            <p class="info-item"><strong>Имя:</strong> @CurrentUser.FirstName</p>
            <p class="info-item"><strong>Фамилия:</strong> @CurrentUser.LastName</p>
            <p class="info-item"><strong>Почта:</strong> @CurrentUser.Email</p>
            <p class="info-item"><strong>Номер телефона:</strong> @CurrentUser.Phone</p>
        </div>
    }
    else
    {
        <p>Данные пользователя не загружены.</p>
    }
</div>

@code {
    private Customer CurrentUser;

    protected override void OnInitialized()
    {
        CurrentUser = userService.GetCurrentUser();
    }
}